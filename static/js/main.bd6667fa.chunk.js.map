{"version":3,"sources":["components/Auth.js","images/logo.svg","components/Header/Header.js","components/Login/Login.js","components/Register/Register.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/ProtectedRoute/ProtectedRoute.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/ImagePopup/ImagePopup.js","images/success.svg","images/fail.svg","components/InfoPopup/InfoPopup.js","utils/Api.js","components/App.js","serviceWorker.js","index.js"],"names":["BASE_URL","Header","userInfo","history","useHistory","className","src","logoPath","alt","path","to","onClick","localStorage","removeItem","push","Login","handleLogin","React","useState","email","setEmail","password","setPassword","noValidate","onSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","token","setItem","catch","err","console","log","auth","placeholder","value","onChange","target","name","required","type","minLength","maxLength","Register","handleRegistration","CurrentUserContext","createContext","Card","onCardClick","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","_id","owner","isLiked","likes","some","i","link","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","tempCard","key","Footer","ProtectedRoute","Component","component","loggedIn","props","PopupWithForm","title","isOpen","onClose","children","EditProfilePopup","onUpdateUser","setName","description","setDescription","isValid","setIsValid","errorName","setErrorName","isErrorName","setIsErrorName","errorDescription","setErrorDescription","isErrorDescription","setIsErrorDescription","useEffect","validity","valid","validationMessage","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","id","current","ref","AddPlacePopup","onAddPlaceSubmit","url","setUrl","errorUrl","setErrorUrl","isErrorUrl","setIsErrorUrl","ImagePopup","InfoPopup","isSucccess","successPic","failPic","api","baseUrl","this","_token","_baseUrl","authorization","ok","Promise","reject","status","cardID","isLike","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setCards","selectedCard","setSelectedCard","setCurentUser","setLoggedIn","setUserInfo","isInfoPopupOpen","setIsInfoPopupOpen","isSucccessregistration","setIsSucccessregistration","closeAllPopups","getItem","tokenCheck","getCardsArr","cardsArr","getUserInfo","userInfoFromServer","Provider","exact","likeCard","newCard","newCards","c","deleteCard","oldCard","filter","addNewCard","avatarUrl","setUserAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.bd6667fa.chunk.js","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then((res) => {\n    return res.json();\n  })\n  .then((res) => {\n    return res;\n  })\n  .catch((err) => console.log(err));\n}; \n\nexport const autorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\" \n    },\n    body: JSON.stringify({email, password})\n  })\n  .then(res => res.json())\n  .then((data) => {\n    if (data.token) {\n      localStorage.setItem('token', data.token);\n    return data;\n    }\n    else {\n      return;\n    }\n  })\n  .catch((err) => {\n    console.log(err);\n  })\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\" : `Bearer ${token}`\n    }\n  })\n  .then(res => res.json())\n}","export default __webpack_public_path__ + \"static/media/logo.2e17206c.svg\";","import React from 'react';\nimport { Route, Switch, Link, useHistory} from 'react-router-dom';\nimport logoPath from './../../images/logo.svg';\n\nfunction Header({userInfo}) {\n  const history = useHistory();\n\n  function logOut() {\n    localStorage.removeItem('token');\n    history.push('/sign-in');\n  }\n\n  return(\n    <header className=\"header\">\n      <img src={logoPath} className=\"header__logo\" alt=\"logo\" />\n      <Switch>\n        <Route path='/sign-up'>\n            <Link \n              to=\"./sign-in\"\n              className=\"header__link\">\n              Войти\n            </Link>\n        </Route>\n        <Route path=\"/sign-in\">\n            <Link \n              to=\"./sign-up\"\n              className=\"header__link\">\n              Зарегистрироваться\n            </Link>\n        </Route>\n        <Route path=\"/\">\n          <div className=\"header__infowrapper\">\n            <p className=\"header__userinfo\">{userInfo}</p>\n            <button \n              to=\"/sign-in\"\n              className=\"header__log-out\"\n              onClick={logOut}>\n              Выйти\n            </button>\n          </div>\n        </Route>\n      </Switch>\n      \n    </header>\n    );\n}\n\nexport default Header;","import React from 'react';\nimport * as auth from '../Auth.js';\nimport { useHistory } from \"react-router\";\n\nexport default function Login({handleLogin}) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const history = useHistory();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    auth.autorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          handleLogin(email);\n          setEmail('');\n          setPassword('');\n          history.push('/');\n        }\n      })\n      .catch(err => console.log(err))\n  }\n\n  function onChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function onChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  return (\n    <div className = \"login\">\n      <form \n        noValidate\n        className=\"login__form\"\n        onSubmit={handleSubmit}>\n        <div>\n        <h1 className=\"login__header\">Вход</h1>\n        <input\n          className=\"login__input\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={onChangeEmail}\n          name=\"title\"\n          required\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"20\">\n        </input>\n        <input\n          className=\"login__input\"\n          placeholder=\"Пароль\"\n          value={password}\n          onChange={onChangePassword}\n          name=\"title\"\n          required\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"20\">\n        </input>\n        </div>\n        <div className=\"login__button-wrapper\">\n          <button\n            className=\"login__submit\">\n            Войти\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React from 'react';\nimport * as auth from '../Auth.js';\nimport { useHistory } from \"react-router\";\n\nexport default function Register({handleRegistration}) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const history = useHistory();\n\n\n  function redirectToSingIn(e) {\n    e.preventDefault();\n    history.push('/sign-up');\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    auth.register(email, password)\n      .then((res) => {\n        if (res.data) {\n          history.push('/sign-in');\n          handleRegistration(true);\n        } else {\n          handleRegistration(false);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        handleRegistration(false);\n      })\n  }\n\n  function onChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function onChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  return (\n    <div className = \"login\">\n      <form\n        noValidate\n        className=\"login__form\"\n        onSubmit={handleSubmit}>\n        <div>\n        <h1 className=\"login__header\">Регистрация</h1>\n        <input\n          className=\"login__input\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={onChangeEmail}\n          name=\"title\"\n          required\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"20\">\n        </input>\n        <input\n          className=\"login__input\"\n          placeholder=\"Пароль\"\n          value={password}\n          onChange={onChangePassword}\n          name=\"title\"\n          required\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"20\">\n        </input>\n        </div>\n        <div className=\"login__button-wrapper\">\n          <button\n            className=\"login__submit\">\n            Зарегистрироваться\n          </button>\n          <button\n            onClick={redirectToSingIn}\n            className=\"login__tosignin\">\n            Уже зарегистрированны? Войти\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\n\n\nfunction Card({onCardClick, card, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  const isOwn = currentUser._id === card.owner._id;\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLike() {\n    onCardLike(card);\n  }\n\n  function handleDelete() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"place\">\n      <img className=\"place__image\" src={card.link} onClick={handleClick}/>\n      <button className={`place__delete-btn ${isOwn && 'place__delete-btn_active'}`} onClick={handleDelete}></button>\n      <div className=\"place__description\">\n        <p className=\"place__title\">{card.name}</p>\n        <div className=\"place__like\">\n          <button className={`place__like-btn ${isLiked && 'place__like-btn_cheked'}`} onClick={handleLike}></button>\n          <h3 className=\"place__like-count\">{card.likes.length}</h3>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './../Card/Card.js';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\n\n/*\nfunction handleEditAvatarClick() {\n  document.querySelector('.popup_avatar').classList.add('popup_opened');\n}\n\nfunction handleEditProfileClick() {\n  document.querySelector('.popup_edit').classList.add('popup_opened');\n}\n\nfunction handleAddPlaceClick() {\n  document.querySelector('.popup_add').classList.add('popup_opened');\n}\n*/\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  \n  return(\n    <>\n    <section className=\"profile\">\n      \n      <div className=\"profile__info\">\n        <div className=\"profile__avatar\">\n          <button className=\"profile__avatar-edit\" onClick={onEditAvatar}></button>\n          <img className=\"profile__avatar-img\" alt=\"Аватар\" src={currentUser.avatar} />\n        </div>\n        <div className=\"profile__description\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__edit-btn\" onClick={onEditProfile}></button>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n      </div>\n      <button className=\"profile__add-btn\" onClick={onAddPlace}></button>\n    </section>\n    <ul className=\"places\">\n      {cards.map((tempCard) => {\n          return ( \n            <Card \n              key = {tempCard._id}\n              card = {tempCard}\n              onCardClick = {onCardClick}\n              onCardLike = {onCardLike}\n              onCardDelete = {onCardDelete}\n            /> \n          )\n        })}\n      <div className=\"popup popup_submit\">\n        <button className=\"popup__close-btn\"></button>\n        <form className=\"popup__container popup__container_submit\" noValidate>\n          <p className=\"popup__container-title popup__container-title_submit\">Вы уверены?</p>\n          <button className=\"popup__container-save-btn\">Да</button>\n        </form>\n      </div>\n    </ul>\n    </>\n    );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return(\n     <footer className=\"footer\">© 2020 Mesto Russia</footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, loggedIn, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute; ","import React from 'react';\n\nfunction PopupWithForm({name, title, isOpen, onClose, onSubmit, children}) {\n  return(\n  <div className={`popup popup_${name} ${isOpen && 'popup_opened'}`}>\n      <button className=\"popup__close-btn\" onClick={onClose}></button>\n      <form className=\"popup__container\" noValidate onSubmit={onSubmit}>\n        <p className=\"popup__container-title\">{title}</p>\n        {children}\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n   const [isValid, setIsValid] = React.useState(true);\n\n  const [errorName, setErrorName] = React.useState('');\n  const [isErrorName, setIsErrorName] = React.useState(false);\n\n  const [errorDescription, setErrorDescription] = React.useState('');\n  const [isErrorDescription, setIsErrorDescription] = React.useState(false);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  function onChangeName(e){\n    setName(e.target.value);\n    if (!e.target.validity.valid) {\n      setIsErrorName(true);\n      setErrorName(e.target.validationMessage);\n    } else {\n      setErrorName('');\n      setIsErrorName(false);\n    }\n  }\n\n  function onChangeDescription(e){\n    if (!e.target.validity.valid) {\n      setIsErrorDescription(true)\n      setErrorDescription(e.target.validationMessage);\n    } else {\n      setIsErrorDescription(false);\n      setErrorDescription('');\n    }\n    setDescription(e.target.value);\n  }\n\n  React.useEffect(() => {\n    if (!isErrorName && !isErrorDescription) {\n      setIsValid(true)\n    } else {\n      setIsValid(false)\n    }\n  }, [isErrorName, isErrorDescription]);\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n      setErrorDescription('');\n      setErrorName('');\n      setIsValid(true);\n    }\n  }, [isOpen]);\n  \n  return(\n    <PopupWithForm \n        name = 'edit' \n        title = 'Редактировать профиль' \n        isOpen = { isOpen }\n        onClose = { onClose }\n        onSubmit = { handleSubmit } >\n          <div className=\"popup__control\">\n            <input className=\"popup__container-input popup__container-input_type_title\"\n              value={name || ''}\n              name=\"title\" \n              required\n              type=\"text\" \n              minLength=\"2\" \n              maxLength=\"20\"\n              onChange={onChangeName} />\n            <span className={`popup__error ${isErrorName && 'popup__error_active'}`}>{errorName}</span>\n          </div>\n          <div className=\"popup__control\">\n            <input className=\"popup__container-input popup__container-input_type_subtitle\"\n              value={description || ''}\n              name=\"subtitle\" \n              required \n              type=\"text\" \n              minLength=\"2\" \n              maxLength=\"40\"\n              onChange={onChangeDescription} />\n            <span className={`popup__error ${isErrorDescription && 'popup__error_active'}`}>{errorDescription}</span>\n          </div>\n          <button className={`popup__container-save-btn ${!isValid && 'popup__container-save-btn_inactive'}`}>Сохранить</button>\n      </PopupWithForm>\n  )\n  \n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const inputRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: inputRef.current.value\n    });\n  } \n  \n  return(\n    <PopupWithForm \n          name = 'avatar' \n          title = 'Обновить аватар' \n          id = '3' \n          isOpen = { isOpen }\n          onClose = { onClose }\n          onSubmit = {handleSubmit} >\n          <div className=\"popup__control\">\n              <input ref={inputRef} className=\"popup__container-input popup__container-input_type_subtitle\" \n                name=\"subtitle\" \n                placeholder=\"Ссылка на картинку\" \n                required \n                type=\"url\" />\n              <span className=\"popup__error\"></span>\n            </div>\n            <button className=\"popup__container-save-btn\">Сохранить</button>\n        </PopupWithForm>\n  )\n  \n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlaceSubmit}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [url, setUrl] = React.useState('');\n\n  const [isValid, setIsValid] = React.useState(true);\n\n  const [errorName, setErrorName] = React.useState('');\n  const [isErrorName, setIsErrorName] = React.useState(true);\n\n  const [errorUrl, setErrorUrl] = React.useState('');\n  const [isErrorUrl, setIsErrorUrl] = React.useState(true);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlaceSubmit({\n      name: name, \n      link: url\n    });\n  } \n\n  function onChangeName(e){\n    setName(e.target.value);\n    if (!e.target.validity.valid) {\n      setIsErrorName(true);\n      setErrorName(e.target.validationMessage);\n    } else {\n      setErrorName('');\n      setIsErrorName(false);\n    }\n  }\n\n  function onChangeUrl(e){\n    if (!e.target.validity.valid) {\n      setIsErrorUrl(true)\n      setErrorUrl(e.target.validationMessage);\n    } else {\n      setIsErrorUrl(false);\n      setErrorUrl('');\n    }\n    setUrl(e.target.value);\n  }\n\n  React.useEffect(() => {\n    if (!isErrorName && !isErrorUrl) {\n      setIsValid(true)\n    } else {\n      setIsValid(false)\n    }\n  }, [isErrorName, isErrorUrl]);\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setName('');\n      setUrl('');\n      setErrorUrl('');\n      setErrorName('');\n      setIsValid(false);\n    }\n  }, [isOpen]);\n  \n  return(\n    <PopupWithForm \n          name = 'add' \n          title = 'Новое место' \n          id = '2' \n          isOpen = { isOpen }\n          onClose = { onClose }\n          onSubmit =  { handleSubmit } >\n          <div className=\"popup__control\">\n              <input className=\"popup__container-input popup__container-input_type_title\" \n                 value={name}\n                 name=\"title\" \n                 placeholder=\"Название\" \n                 required \n                 type=\"text\" \n                 minLength=\"1\" \n                 maxLength=\"30\"\n                 onChange={onChangeName} />\n              <span className={`popup__error ${isErrorName && 'popup__error_active'}`}>{errorName}</span>\n            </div>\n            <div className=\"popup__control\">\n              <input className=\"popup__container-input popup__container-input_type_subtitle\" \n                value={url}\n                name=\"subtitle\" \n                placeholder=\"Ссылка на картинку\" \n                required \n                type=\"url\"\n                onChange={onChangeUrl} />\n              <span className={`popup__error ${isErrorUrl && 'popup__error_active'}`}>{errorUrl}</span>\n            </div>\n            <button className={`popup__container-save-btn ${!isValid && 'popup__container-save-btn_inactive'}`}>Создать</button>\n        </PopupWithForm>\n  )\n  \n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n  return(\n    <div className={`img-popup ${props.card && 'popup_opened'}`}>\n        <div className=\"img-popup__container\">\n          <button className=\"img-popup__close-btn\" onClick={props.onClose}></button>\n          <img className=\"img-popup__img\" src={props.card.link} />\n          <p className=\"img-popup__title\">{props.card.name}</p>\n        </div>\n    </div>\n    );\n}\n\nexport default ImagePopup;","export default __webpack_public_path__ + \"static/media/success.e004e6e7.svg\";","export default __webpack_public_path__ + \"static/media/fail.471086c8.svg\";","import React from 'react';\n\nimport successPic from \"../../images/success.svg\";\nimport failPic from \"../../images/fail.svg\";\n\nfunction InfoPopup({isSucccess, isOpen, onClose}) {\n  return(\n    <div className={`info-popup ${isOpen && 'popup_opened'}`}>\n        <div className=\"info-popup__container\">\n          <button className=\"info-popup__close-btn\" onClick={onClose}></button>\n          <img className=\"info-popup__img\" src={isSucccess ? successPic : failPic} alt=\"succes pic\" />\n          <p className=\"info-popup__title\">{isSucccess ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</p>\n        </div>\n    </div>\n    );\n}\n\nexport default InfoPopup;","class Api {\n    constructor(baseUrl, token) {\n        this._token = token;\n        this._baseUrl = baseUrl;\n    }\n\n    getUserInfo() {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: {\n                authorization: this._token\n            }\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                  }\n                return Promise.reject(res.status);\n            })\n    }\n\n    getCardsArr() {\n        return fetch(this._baseUrl + '/cards', {\n            headers: {\n                authorization: this._token\n            }\n            })\n        .then(res => {\n                if (res.ok) {\n                    return res.json()\n                  }\n                return Promise.reject(res.status);\n            })\n    }\n\n    setUserInfo(userInfo) {\n        return fetch(this._baseUrl + '/users/me', {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(userInfo)\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                  }\n                return Promise.reject(res.status);\n            })\n    }\n\n    setUserAvatar(avatar) {\n       return fetch(this._baseUrl + '/users/me/avatar', {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(avatar)\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                  }\n                return Promise.reject(res.status);\n            })\n    }\n\n    addNewCard(card) {\n        return fetch(this._baseUrl + '/cards', {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(card)\n            })\n        .then(res => {\n            if (res.ok) {\n              return res.json()\n            }\n            return Promise.reject(res.status);\n        })\n    }\n\n    deleteCard(cardID) {\n        return fetch(this._baseUrl + '/cards/' + cardID, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token\n            }\n            })\n    .then(res => {\n        if (res.ok) {\n            return res.json()\n          }\n        return Promise.reject(res.status);\n    })\n    }\n\n    likeCard(cardID, isLike) {\n        return fetch(this._baseUrl + '/cards/likes/' + cardID, {\n            method: isLike ? 'PUT' : 'DELETE',\n            headers: {\n                authorization: this._token\n            }\n            })\n        .then(res => {\n          if (res.ok) {\n              return res.json()\n            }\n          return Promise.reject(res.status);\n        })\n    }\n}\n\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-14', '668dca3d-51ec-4823-a727-cc18d24544ec');\n\nexport {api};","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport * as auth from './Auth.js';\nimport Header from './Header/Header.js';\nimport Login from './Login/Login';\nimport Register from './Register/Register';\nimport Main from './Main/Main.js'\nimport Footer from './Footer/Footer.js'\nimport ProtectedRoute from './ProtectedRoute/ProtectedRoute';\nimport PopupWithForm from './PopupWithForm/PopupWithForm.js';\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup.js';\nimport ImagePopup from './ImagePopup/ImagePopup.js';\nimport InfoPopup from './InfoPopup/InfoPopup.js';\nimport {api} from './../utils/Api.js';\nimport {CurrentUserContext} from './../contexts/CurrentUserContext.js';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState();\n  const [isEditProfilePopupOpen, setIsProfilePopupOpen] = React.useState();\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState();\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [currentUser, setCurentUser] = React.useState({});\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userInfo, setUserInfo] = React.useState();\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState();\n  const [isSucccessregistration, setIsSucccessregistration] = React.useState(false);\n  const history = useHistory();\n\n  function handleLogin(email) {\n    setLoggedIn(true);\n    setUserInfo(email);\n  }\n\n  function handleRegistration(status) {\n    setIsInfoPopupOpen(true);\n    setIsSucccessregistration(status)\n  }\n  \n  React.useEffect(() => {\n    function tokenCheck() {\n    const token = localStorage.getItem('token');\n\n    if (!token) {\n      return\n    }\n\n    auth.checkToken(token)\n      .then((res) => {\n        if(res) {\n          const { email } = res.data;\n          setLoggedIn(true);\n          history.push('/');\n          setUserInfo(email);\n        }\n      })\n  }\n\n  tokenCheck();\n\n  }, []);\n\n//Get initial cards\n  React.useEffect(() => {\n\n    const getCardsPromise = api.getCardsArr()\n      .then(cardsArr => {\n        setCards(cardsArr);\n        return cardsArr\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    const userInfoPromise = api.getUserInfo()\n      .then(userInfoFromServer => {\n        setCurentUser(userInfoFromServer);\n        return userInfoFromServer\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n  }, [])\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.likeCard(card._id, !isLiked)\n      .then((newCard) => {\n          // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  } \n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then((oldCard) => {\n        const newCards = cards.filter(c => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(userInfo) {\n    api.setUserInfo(userInfo)\n      .then((userInfoFromServer) => {\n        setCurentUser(userInfoFromServer);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatarUrl) {\n    api.setUserAvatar(avatarUrl)\n      .then((userInfoFromServer) => {\n        setCurentUser(userInfoFromServer);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.addNewCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n  }\n\n  //Open & close popup's function\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(false);\n    setIsInfoPopupOpen(false);\n  }\n\n   return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"body\">\n      <div className=\"page\">\n        <Header\n          userInfo={userInfo}\n        />\n        <Switch>\n          <Route path='/sign-up'>\n            <Register\n              handleRegistration = {handleRegistration}\n            />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login\n              handleLogin={handleLogin} />\n          </Route>\n          <ProtectedRoute exact \n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main} \n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            cards={cards}\n            onCardClick = {handleCardClick}\n            onCardLike = {handleCardLike}\n            onCardDelete = {handleCardDelete}\n          />\n        </Switch>\n        <EditProfilePopup\n          isOpen = { isEditProfilePopupOpen }\n          onClose = { closeAllPopups } \n          onUpdateUser = { handleUpdateUser }\n        />\n        <AddPlacePopup\n          isOpen = { isAddPlacePopupOpen }\n          onClose = { closeAllPopups } \n          onAddPlaceSubmit = { handleAddPlaceSubmit } \n        />\n        <EditAvatarPopup\n          isOpen = {isEditAvatarPopupOpen}\n          onClose = {closeAllPopups}\n          onUpdateAvatar = {handleUpdateAvatar}\n        />\n        <ImagePopup\n          card = {selectedCard}\n          onClose = {closeAllPopups}\n        />\n        <InfoPopup\n          isOpen = {isInfoPopupOpen}\n          isSucccess = {isSucccessregistration}\n          onClose = {closeAllPopups}\n        />\n        <Footer />\n      </div>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}