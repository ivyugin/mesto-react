{"version":3,"sources":["components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/ImagePopup/ImagePopup.js","utils/Api.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","onCardClick","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","_id","owner","isLiked","likes","some","i","link","onClick","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","tempCard","key","noValidate","Footer","PopupWithForm","title","isOpen","onClose","onSubmit","children","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","isValid","setIsValid","errorName","setErrorName","isErrorName","setIsErrorName","errorDescription","setErrorDescription","isErrorDescription","setIsErrorDescription","useEffect","e","preventDefault","value","required","type","minLength","maxLength","onChange","target","validity","valid","validationMessage","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","id","current","ref","placeholder","AddPlacePopup","onAddPlaceSubmit","url","setUrl","errorUrl","setErrorUrl","isErrorUrl","setIsErrorUrl","ImagePopup","props","api","baseUrl","token","this","_token","_baseUrl","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","userInfo","method","body","JSON","stringify","cardID","isLike","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setCards","selectedCard","setSelectedCard","setCurentUser","closeAllPopups","getCardsArr","cardsArr","catch","err","console","log","getUserInfo","userInfoFromServer","Provider","likeCard","newCard","newCards","c","deleteCard","oldCard","filter","setUserInfo","addNewCard","avatarUrl","setUserAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.137e7660.chunk.js","sourcesContent":["import React from 'react';\nimport logoPath from './../../images/logo.svg';\n\nfunction Header() {\n  return(\n    <header className=\"header\">\n      <img src={logoPath} className=\"header__logo\" alt=\"logo\" />\n    </header>\n    );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\n\n\nfunction Card({onCardClick, card, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  const isOwn = currentUser._id === card.owner._id;\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLike() {\n    onCardLike(card);\n  }\n\n  function handleDelete() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"place\">\n      <img className=\"place__image\" src={card.link} onClick={handleClick}/>\n      <button className={`place__delete-btn ${isOwn && 'place__delete-btn_active'}`} onClick={handleDelete}></button>\n      <div className=\"place__description\">\n        <p className=\"place__title\">{card.name}</p>\n        <div className=\"place__like\">\n          <button className={`place__like-btn ${isLiked && 'place__like-btn_cheked'}`} onClick={handleLike}></button>\n          <h3 className=\"place__like-count\">{card.likes.length}</h3>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './../Card/Card.js';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\n\n/*\nfunction handleEditAvatarClick() {\n  document.querySelector('.popup_avatar').classList.add('popup_opened');\n}\n\nfunction handleEditProfileClick() {\n  document.querySelector('.popup_edit').classList.add('popup_opened');\n}\n\nfunction handleAddPlaceClick() {\n  document.querySelector('.popup_add').classList.add('popup_opened');\n}\n*/\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  \n  return(\n    <>\n    <section className=\"profile\">\n      \n      <div className=\"profile__info\">\n        <div className=\"profile__avatar\">\n          <button className=\"profile__avatar-edit\" onClick={onEditAvatar}></button>\n          <img className=\"profile__avatar-img\" alt=\"Аватар\" src={currentUser.avatar} />\n        </div>\n        <div className=\"profile__description\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__edit-btn\" onClick={onEditProfile}></button>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n      </div>\n      <button className=\"profile__add-btn\" onClick={onAddPlace}></button>\n    </section>\n    <ul className=\"places\">\n      {cards.map((tempCard) => {\n          return ( \n            <Card \n              key = {tempCard._id}\n              card = {tempCard}\n              onCardClick = {onCardClick}\n              onCardLike = {onCardLike}\n              onCardDelete = {onCardDelete}\n            /> \n          )\n        })}\n      <div className=\"popup popup_submit\">\n        <button className=\"popup__close-btn\"></button>\n        <form className=\"popup__container popup__container_submit\" noValidate>\n          <p className=\"popup__container-title popup__container-title_submit\">Вы уверены?</p>\n          <button className=\"popup__container-save-btn\">Да</button>\n        </form>\n      </div>\n    </ul>\n    </>\n    );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return(\n     <footer className=\"footer\">© 2020 Mesto Russia</footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm({name, title, isOpen, onClose, onSubmit, children}) {\n  return(\n  <div className={`popup popup_${name} ${isOpen && 'popup_opened'}`}>\n      <button className=\"popup__close-btn\" onClick={onClose}></button>\n      <form className=\"popup__container\" noValidate onSubmit={onSubmit}>\n        <p className=\"popup__container-title\">{title}</p>\n        {children}\n      </form>\n    </div>\n  )\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n   const [isValid, setIsValid] = React.useState(true);\n\n  const [errorName, setErrorName] = React.useState('');\n  const [isErrorName, setIsErrorName] = React.useState(false);\n\n  const [errorDescription, setErrorDescription] = React.useState('');\n  const [isErrorDescription, setIsErrorDescription] = React.useState(false);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n  function onChangeName(e){\n    setName(e.target.value);\n    if (!e.target.validity.valid) {\n      setIsErrorName(true);\n      setErrorName(e.target.validationMessage);\n    } else {\n      setErrorName('');\n      setIsErrorName(false);\n    }\n  }\n\n  function onChangeDescription(e){\n    if (!e.target.validity.valid) {\n      setIsErrorDescription(true)\n      setErrorDescription(e.target.validationMessage);\n    } else {\n      setIsErrorDescription(false);\n      setErrorDescription('');\n    }\n    setDescription(e.target.value);\n  }\n\n  React.useEffect(() => {\n    if (!isErrorName && !isErrorDescription) {\n      setIsValid(true)\n    } else {\n      setIsValid(false)\n    }\n  }, [isErrorName, isErrorDescription]);\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n      setErrorDescription('');\n      setErrorName('');\n      setIsValid(true);\n    }\n  }, [isOpen]);\n  \n  return(\n    <PopupWithForm \n        name = 'edit' \n        title = 'Редактировать профиль' \n        isOpen = { isOpen }\n        onClose = { onClose }\n        onSubmit = { handleSubmit } >\n          <div className=\"popup__control\">\n            <input className=\"popup__container-input popup__container-input_type_title\"\n              value={name || ''}\n              name=\"title\" \n              required\n              type=\"text\" \n              minLength=\"2\" \n              maxLength=\"20\"\n              onChange={onChangeName} />\n            <span className={`popup__error ${isErrorName && 'popup__error_active'}`}>{errorName}</span>\n          </div>\n          <div className=\"popup__control\">\n            <input className=\"popup__container-input popup__container-input_type_subtitle\"\n              value={description || ''}\n              name=\"subtitle\" \n              required \n              type=\"text\" \n              minLength=\"2\" \n              maxLength=\"40\"\n              onChange={onChangeDescription} />\n            <span className={`popup__error ${isErrorDescription && 'popup__error_active'}`}>{errorDescription}</span>\n          </div>\n          <button className={`popup__container-save-btn ${!isValid && 'popup__container-save-btn_inactive'}`}>Сохранить</button>\n      </PopupWithForm>\n  )\n  \n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const inputRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: inputRef.current.value\n    });\n  } \n  \n  return(\n    <PopupWithForm \n          name = 'avatar' \n          title = 'Обновить аватар' \n          id = '3' \n          isOpen = { isOpen }\n          onClose = { onClose }\n          onSubmit = {handleSubmit} >\n          <div className=\"popup__control\">\n              <input ref={inputRef} className=\"popup__container-input popup__container-input_type_subtitle\" \n                name=\"subtitle\" \n                placeholder=\"Ссылка на картинку\" \n                required \n                type=\"url\" />\n              <span className=\"popup__error\"></span>\n            </div>\n            <button className=\"popup__container-save-btn\">Сохранить</button>\n        </PopupWithForm>\n  )\n  \n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext.js';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlaceSubmit}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [url, setUrl] = React.useState('');\n\n  const [isValid, setIsValid] = React.useState(true);\n\n  const [errorName, setErrorName] = React.useState('');\n  const [isErrorName, setIsErrorName] = React.useState(true);\n\n  const [errorUrl, setErrorUrl] = React.useState('');\n  const [isErrorUrl, setIsErrorUrl] = React.useState(true);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlaceSubmit({\n      name: name, \n      link: url\n    });\n  } \n\n  function onChangeName(e){\n    setName(e.target.value);\n    if (!e.target.validity.valid) {\n      setIsErrorName(true);\n      setErrorName(e.target.validationMessage);\n    } else {\n      setErrorName('');\n      setIsErrorName(false);\n    }\n  }\n\n  function onChangeUrl(e){\n    if (!e.target.validity.valid) {\n      setIsErrorUrl(true)\n      setErrorUrl(e.target.validationMessage);\n    } else {\n      setIsErrorUrl(false);\n      setErrorUrl('');\n    }\n    setUrl(e.target.value);\n  }\n\n  React.useEffect(() => {\n    if (!isErrorName && !isErrorUrl) {\n      setIsValid(true)\n    } else {\n      setIsValid(false)\n    }\n  }, [isErrorName, isErrorUrl]);\n\n  React.useEffect(() => {\n    if (isOpen) {\n      setName('');\n      setUrl('');\n      setErrorUrl('');\n      setErrorName('');\n      setIsValid(false);\n    }\n  }, [isOpen]);\n  \n  return(\n    <PopupWithForm \n          name = 'add' \n          title = 'Новое место' \n          id = '2' \n          isOpen = { isOpen }\n          onClose = { onClose }\n          onSubmit =  { handleSubmit } >\n          <div className=\"popup__control\">\n              <input className=\"popup__container-input popup__container-input_type_title\" \n                 value={name}\n                 name=\"title\" \n                 placeholder=\"Название\" \n                 required \n                 type=\"text\" \n                 minLength=\"1\" \n                 maxLength=\"30\"\n                 onChange={onChangeName} />\n              <span className={`popup__error ${isErrorName && 'popup__error_active'}`}>{errorName}</span>\n            </div>\n            <div className=\"popup__control\">\n              <input className=\"popup__container-input popup__container-input_type_subtitle\" \n                value={url}\n                name=\"subtitle\" \n                placeholder=\"Ссылка на картинку\" \n                required \n                type=\"url\"\n                onChange={onChangeUrl} />\n              <span className={`popup__error ${isErrorUrl && 'popup__error_active'}`}>{errorUrl}</span>\n            </div>\n            <button className={`popup__container-save-btn ${!isValid && 'popup__container-save-btn_inactive'}`}>Создать</button>\n        </PopupWithForm>\n  )\n  \n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n  return(\n    <div className={`img-popup ${props.card && 'popup_opened'}`}>\n        <div className=\"img-popup__container\">\n          <button className=\"img-popup__close-btn\" onClick={props.onClose}></button>\n          <img className=\"img-popup__img\" src={props.card.link} />\n          <p className=\"img-popup__title\">{props.card.name}</p>\n        </div>\n    </div>\n    );\n}\n\nexport default ImagePopup;","class Api {\n    constructor(baseUrl, token) {\n        this._token = token;\n        this._baseUrl = baseUrl;\n    }\n\n    getUserInfo() {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: {\n                authorization: this._token\n            }\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                  }\n                return Promise.reject(res.status);\n            })\n    }\n\n    getCardsArr() {\n        return fetch(this._baseUrl + '/cards', {\n            headers: {\n                authorization: this._token\n            }\n            })\n        .then(res => {\n                if (res.ok) {\n                    return res.json()\n                  }\n                return Promise.reject(res.status);\n            })\n    }\n\n    setUserInfo(userInfo) {\n        return fetch(this._baseUrl + '/users/me', {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(userInfo)\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                  }\n                return Promise.reject(res.status);\n            })\n    }\n\n    setUserAvatar(avatar) {\n       return fetch(this._baseUrl + '/users/me/avatar', {\n            method: 'PATCH',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(avatar)\n            })\n            .then(res => {\n                if (res.ok) {\n                    return res.json()\n                  }\n                return Promise.reject(res.status);\n            })\n    }\n\n    addNewCard(card) {\n        return fetch(this._baseUrl + '/cards', {\n            method: 'POST',\n            headers: {\n                authorization: this._token,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(card)\n            })\n        .then(res => {\n            if (res.ok) {\n              return res.json()\n            }\n            return Promise.reject(res.status);\n        })\n    }\n\n    deleteCard(cardID) {\n        return fetch(this._baseUrl + '/cards/' + cardID, {\n            method: 'DELETE',\n            headers: {\n                authorization: this._token\n            }\n            })\n    .then(res => {\n        if (res.ok) {\n            return res.json()\n          }\n        return Promise.reject(res.status);\n    })\n    }\n\n    likeCard(cardID, isLike) {\n        return fetch(this._baseUrl + '/cards/likes/' + cardID, {\n            method: isLike ? 'PUT' : 'DELETE',\n            headers: {\n                authorization: this._token\n            }\n            })\n        .then(res => {\n          if (res.ok) {\n              return res.json()\n            }\n          return Promise.reject(res.status);\n        })\n    }\n}\n\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-14', '668dca3d-51ec-4823-a727-cc18d24544ec');\n\nexport {api};","import React from 'react';\nimport Header from './Header/Header.js';\nimport Main from './Main/Main.js'\nimport Footer from './Footer/Footer.js'\nimport PopupWithForm from './PopupWithForm/PopupWithForm.js';\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup.js';\nimport ImagePopup from './ImagePopup/ImagePopup.js';\nimport {api} from './../utils/Api.js';\nimport {CurrentUserContext} from './../contexts/CurrentUserContext.js';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState();\n  const [isEditProfilePopupOpen, setIsProfilePopupOpen] = React.useState();\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState();\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState(false);\n  const [currentUser, setCurentUser] = React.useState({});\n\n\n//Get initial cards\n  React.useEffect(() => {\n\n    const getCardsPromise = api.getCardsArr()\n      .then(cardsArr => {\n        setCards(cardsArr);\n        return cardsArr\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    const userInfoPromise = api.getUserInfo()\n      .then(userInfoFromServer => {\n        setCurentUser(userInfoFromServer);\n        return userInfoFromServer\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n  }, [])\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.likeCard(card._id, !isLiked)\n      .then((newCard) => {\n          // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  } \n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then((oldCard) => {\n        const newCards = cards.filter(c => c._id != card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(userInfo) {\n    api.setUserInfo(userInfo)\n      .then((userInfoFromServer) => {\n        setCurentUser(userInfoFromServer);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatarUrl) {\n    api.setUserAvatar(avatarUrl)\n      .then((userInfoFromServer) => {\n        setCurentUser(userInfoFromServer);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.addNewCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n  }\n\n//Open & close popup's function\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"body\">\n      <div className=\"page\">\n        <Header />\n        <Main \n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          cards={cards}\n          onCardClick = {handleCardClick}\n          onCardLike = {handleCardLike}\n          onCardDelete = {handleCardDelete}\n        />\n        <EditProfilePopup\n          isOpen = { isEditProfilePopupOpen }\n          onClose = { closeAllPopups } \n          onUpdateUser = { handleUpdateUser }\n        />\n        <AddPlacePopup\n          isOpen = { isAddPlacePopupOpen }\n          onClose = { closeAllPopups } \n          onAddPlaceSubmit = { handleAddPlaceSubmit } \n        />\n        <EditAvatarPopup\n          isOpen = {isEditAvatarPopupOpen}\n          onClose = {closeAllPopups}\n          onUpdateAvatar = {handleUpdateAvatar}\n        />\n        \n        <ImagePopup\n          card = {selectedCard}\n          onClose = {closeAllPopups}\n        />\n        <Footer />\n      </div>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.e889e45f.svg\";"],"sourceRoot":""}